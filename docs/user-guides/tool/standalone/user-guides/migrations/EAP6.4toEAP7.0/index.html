<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Migrating from JBoss EAP 6.4 to JBoss EAP 7.0</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
<h1>Migrating from JBoss EAP 6.4 to JBoss EAP 7.0</h1>
<div class="details">
<span id="revnumber">version 1.1.0.Alpha-SNAPSHOT,</span>
<span id="revdate">2018-03-12T07:45:04Z</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a></li>
<li><a href="#_modules_migration">2. Modules Migration</a></li>
<li><a href="#_standalone_server_migration">3. Standalone Server Migration</a>
<ul class="sectlevel2">
<li><a href="#_standalone_configuration_processing_overview">3.1. Standalone Configuration Processing Overview</a></li>
<li><a href="#_customizing_the_migration_of_the_standalone_configuration">3.2. Customizing the Migration of the Standalone Configuration</a></li>
<li><a href="#_standalone_configuration_file_migration">3.3. Standalone Configuration File Migration</a></li>
</ul>
</li>
<li><a href="#_managed_domain_migration">4. Managed Domain Migration</a>
<ul class="sectlevel2">
<li><a href="#_managed_domain_processing_overview">4.1. Managed Domain Processing Overview</a></li>
<li><a href="#_customizing_the_migration_of_the_managed_domain_configuration">4.2. Customizing the Migration of the Managed Domain Configuration</a></li>
<li><a href="#_domain_configuration_file_migration">4.3. Domain Configuration File Migration</a></li>
<li><a href="#_host_configuration_file_migration">4.4. Host Configuration File Migration</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes how to use the JBoss Server Migration Tool to migrate from JBoss EAP 6.4 to JBoss EAP 7.0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>----------------------------------------------------------
----  JBoss Server Migration Tool  -----------------------
----------------------------------------------------------

Retrieving servers...
INFO SOURCE server name: EAP, version: 6.4.0.GA.
INFO TARGET server name: JBoss EAP, version: 7.0.0.GA.

Server migration starting...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The server migration from JBoss EAP 6.4 to JBoss EAP 7.0 includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modules Migration</p>
</li>
<li>
<p>Standalone Server Migration</p>
</li>
<li>
<p>Managed Domain Migration</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modules_migration">2. Modules Migration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JBoss Server Migration Tool is capable of migrating any module installed in the source server, as long as the module is not already installed on the target server.</p>
</div>
<div class="paragraph">
<p>The migration of source server&#8217;s module can be done explicitly, i.e. by user demand, or implicitly, because a migrated module or server configuration depends on it.</p>
</div>
<div class="paragraph">
<p>You can specify which modules should be migrated or not, by using the <code>modules.includes</code> and <code>modules.excludes</code> environment properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A module whose ID is referenced by the <code>modules.excludes</code> environment property is <em>never</em> migrated.</p>
</li>
<li>
<p>A module whose ID is referenced by the <code>modules.includes</code> environment property is <em>always</em> migrated, unless it referenced by the <code>modules.excludes</code> environment property.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The syntax for a module ID is <em>name:slot</em>; The <em>slot</em> is optional, and if it is not specified, defaults to <em>main</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As an example, to migrate modules <code>com.example.moduleA</code> and <code>com.example.moduleB</code>, and do not migrate module <code>com.example.moduleC</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure the properties in the tool&#8217;s <code>config/environment.properties</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>modules.includes=com.example.moduleA,com.example.moduleB
modules.excludes=com.example.moduleC</code></pre>
</div>
</div>
</li>
<li>
<p>You can include the above properties in your own custom properties file, and then pass the file on the command line using the <code>--environment</code> argument.</p>
</li>
<li>
<p>You can pass the information on the command line using a system property. The environment property names must be prefixed with <code>jboss.server.migration.</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>-Djboss.server.migration.modules.includes="com.example.moduleA,com.example.moduleB" -Djboss.server.migration.modules.excludes="com.example.moduleC"</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The JBoss Server Migration Tool does not verify that the source server&#8217;s module is compatible with the target server, and the migration of an incompatible module may cause the target server to malfunction, or not work at all.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_standalone_server_migration">3. Standalone Server Migration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_standalone_configuration_processing_overview">3.1. Standalone Configuration Processing Overview</h3>
<div class="paragraph">
<p>When tasked to migrate standalone server configurations, the JBoss Server Migration Tool migrates the configuration files and related content from the source server to the target server. This migration task is optional.</p>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, which is the default, you are are prompted to confirm its execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate the source's standalone server?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply with <strong>yes</strong> or <strong>y</strong>, the standalone server migration proceeds.</p>
</li>
<li>
<p>If you reply with <strong>no</strong> or <strong>n</strong>, the standalone server migration is skipped.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you choose to proceed, the tool starts by migrating the source standalone server&#8217;s content. Because both the source and target servers use a similar cyphered content repository to store data that is referenced by standalone server configurations, such as deployments and deployment overlays, migration of this data merely consists of finding and copying the content from the source server to the target server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#5] Migrating standalone content found: [22/caa450a9ba3b84eaf5a15b6da418b92ce6c98e/content, 23/b62a37ba8a4830622bfcdb960280577cc6796e/content, 40/8bcb8a4480739d370ebf70fbcabb33c1508c50/content, 88/96c992d1b9866945a5015b72f8d254d3d5c132/content, ea/69fbffdf08b320c09ad1acc7d31deba5a7787b/content, fc/8ec517e0b169fb27b61ff90f04de5dd8ca8d52/content]
INFO  [ServerMigrationTask#6] Resource with path /jboss-eap-6.4/standalone/data/content/22/caa450a9ba3b84eaf5a15b6da418b92ce6c98e/content migrated.
INFO  [ServerMigrationTask#7] Resource with path /jboss-eap-6.4/standalone/data/content/23/b62a37ba8a4830622bfcdb960280577cc6796e/content migrated.
INFO  [ServerMigrationTask#8] Resource with path /jboss-eap-6.4/standalone/data/content/40/8bcb8a4480739d370ebf70fbcabb33c1508c50/content migrated.
INFO  [ServerMigrationTask#9] Resource with path /jboss-eap-6.4/standalone/data/content/88/96c992d1b9866945a5015b72f8d254d3d5c132/content migrated.
INFO  [ServerMigrationTask#10] Resource with path /jboss-eap-6.4/standalone/data/content/ea/69fbffdf08b320c09ad1acc7d31deba5a7787b/content migrated.
INFO  [ServerMigrationTask#11] Resource with path /jboss-eap-6.4/standalone/data/content/fc/8ec517e0b169fb27b61ff90f04de5dd8ca8d52/content migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, the tool scans the source server for standalone server configurations files and prints the results in the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#3] Retrieving source's standalone configurations...
INFO  [ServerMigrationTask#3] /jboss-eap-6.4/standalone/configuration/standalone-full-ha.xml
INFO  [ServerMigrationTask#3] /jboss-eap-6.4/standalone/configuration/standalone-full.xml
INFO  [ServerMigrationTask#3] /jboss-eap-6.4/standalone/configuration/standalone-ha.xml
INFO  [ServerMigrationTask#3] /jboss-eap-6.4/standalone/configuration/standalone-osgi.xml
INFO  [ServerMigrationTask#3] /jboss-eap-6.4/standalone/configuration/standalone.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>non-interactive</code> mode, the JBoss Server Migration Tool migrates all listed configuration files.</p>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, which is the default, you are presented with the following prompt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all configurations?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, all listed configuration files are migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, you receive a prompt asking to confirm the migration, for each listed configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate configuration /jboss-eap-6.4/standalone/configuration/standalone.xml ?
yes/no? y</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_the_migration_of_the_standalone_configuration">3.2. Customizing the Migration of the Standalone Configuration</h3>
<div class="paragraph">
<p>The standalone server migration can be customized by configuring the following environment properties:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standalone.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the entire standalone server migration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.standalone.serverDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the source standalone server directory, which defaults to the source standalone server&#8217;s base directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.standalone.configDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the source standalone server configuration directory, which defaults to the source standalone server&#8217;s <code>configuration</code> directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.standalone.configFiles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the file names of the source standalone server configurations to be migrated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.target.standalone.serverDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the target standalone server directory, which defaults to the target standalone server’s base directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.target.standalone.configDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the target standalone server  configuration directory, which defaults to the target&#8217;s standalone  server&#8217;s <code>configuration</code> directory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The environment configuration can be customized in one of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure the properties in the tool&#8217;s <code>config/environment.properties</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>standalone.skip=false
server.source.standalone.serverDir=standalone
server.source.standalone.configDir=configuration
server.source.standalone.configFiles=standalone.xml,standalone-full.xml
server.target.standalone.serverDir=standalone
server.target.standalone.configDir=configuration</code></pre>
</div>
</div>
</li>
<li>
<p>You can include the above properties in your own custom properties file, and then pass the file on the command line using the <code>--environment</code> argument.</p>
</li>
<li>
<p>You can pass the information on the command line using a system property. The environment property names must be prefixed with <code>jboss.server.migration.</code>, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>-Djboss.server.migration.server.source.standalone.serverDir="standalone"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standalone_configuration_file_migration">3.3. Standalone Configuration File Migration</h3>
<div class="paragraph">
<p>When migrating the standalone server configuration, the JBoss Server Migration Tool first copies the source configuration files to the target server.
It then updates the configuration to not only work correctly in  the target server, but also to take advantage of the target server’s new  functionality.</p>
</div>
<!-- toc disabled -->
<div class="sect3">
<h4 id="_remove_unsupported_subsystems">3.3.1. Remove Unsupported Subsystems</h4>
<div class="paragraph">
<p>All subsystems, and related extensions, which are not supported by JBoss EAP 7.0, are automatically removed from a migrated configuration.</p>
</div>
<div class="paragraph">
<p>The following JBoss EAP 6.4 subsystems are not supported by JBoss EAP 7.0:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Subsystem Name</th>
<th class="tableblock halign-left valign-top">Configuration Namespace</th>
<th class="tableblock halign-left valign-top">Extension Module</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cmp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:cmp:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.cmp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configadmin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:configadmin:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.configadmin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jaxr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:jaxr:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.jaxr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">osgi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:osgi:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.osgi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:threads:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.threads</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A subsystem installed in JBoss EAP 6.4 by the user, is also considered as unsupported by JBoss EAP 7.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The console logs the configuration namespaces, and extension modules, of unsupported subsystems removed from the server configuration being migrated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#5] Unsupported extensions removed: [org.jboss.as.jaxr, org.jboss.as.threads, org.jboss.as.cmp]
INFO  [ServerMigrationTask#5] Unsupported subsystems removed: [urn:jboss:domain:jaxr:1.1, urn:jboss:domain:cmp:1.1, urn:jboss:domain:threads:1.1]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_referenced_modules">3.3.2. Migrate Referenced Modules</h4>
<div class="paragraph">
<p>A migrated configuration may reference and depend on a module that is not installed on the target server.
The tool automatically migrates the referenced modules, and their dependent modules as well.</p>
</div>
<div class="paragraph">
<p>A module is migrated when it is referenced by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>security-realm</code> configuration, as plug-in(s) module</p>
</li>
<li>
<p>A <code>datasource</code> subsystem configuration, as datasource driver(s) module</p>
</li>
<li>
<p>An <code>ee</code> subsystem configuration, as a global module</p>
</li>
<li>
<p>A <code>naming</code> subsystem configuration, as an Object Factory module</p>
</li>
<li>
<p>A <code>messaging</code> subsystem configuration, as JMS Bridge module</p>
</li>
<li>
<p>A <code>vault</code> configuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting the module ID for any module that is migrated, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#18] Module cmtool.security-realms:main migrated.
INFO  [ServerMigrationTask#19] Module cmtool.datasources:main migrated.
INFO  [ServerMigrationTask#20] Module cmtool.ee1:main migrated.
INFO  [ServerMigrationTask#21] Module cmtool.ee2:main migrated.
INFO  [ServerMigrationTask#22] Module cmtool.naming:main migrated.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
It is possible to <strong>exclude</strong> the migration of specific modules by specifying the id(s) in the environment property named <code>modules.excludes</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_referenced_paths">3.3.3. Migrate Referenced Paths</h4>
<div class="paragraph">
<p>A migrated configuration may reference paths, i.e. files and directories, which may need to be migrated to the target server.</p>
</div>
<div class="paragraph">
<p>A referenced path is migrated only if it&#8217;s not an absolute path, and such migration consists in copying the resource to such path, but relative to the migrated configuration, in the target server.</p>
</div>
<div class="paragraph">
<p>The tools automatically migrates the following paths references:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Vault</code> keystore and encrypted file&#8217;s directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting each path migration, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#25] Resource with path /jboss-eap-6.4/vault/vault.keystore migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer, you can configure the environment properties to customize the migration of referenced paths.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paths.migrate-paths-requested-by-configuration.vault.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the migration of <code>Vault</code> referenced paths.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_migrate_jacorb_subsystem">3.3.4. Migrate jacorb Subsystem</h4>
<div class="paragraph">
<p>The <strong>jacorb</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>iiop-openjdk</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.jacorb.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>jacorb</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem jacorb configurations...
INFO  [ServerMigrationTask#335] Subsystem config /subsystem=jacorb migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.jacorb removed.
INFO  [ServerMigrationTask#331] Subsystem jacorb configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_web_subsystem">3.3.5. Migrate web Subsystem</h4>
<div class="paragraph">
<p>The <strong>web</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>undertow</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.web.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>web</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem web configurations...
INFO  [ServerMigrationTask#335] Subsystem config /subsystem=web migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.web removed.
INFO  [ServerMigrationTask#331] Subsystem web configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_messaging_subsystem">3.3.6. Migrate messaging Subsystem</h4>
<div class="paragraph">
<p>The <strong>messaging</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>messaging-activemq</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.messaging.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>messaging</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem messaging configurations...
INFO  [ServerMigrationTask#335] Subsystem config /subsystem=messaging migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.messaging removed.
INFO  [ServerMigrationTask#331] Subsystem messaging configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_infinispan_subsystem">3.3.7. Update the infinispan Subsystem</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool makes the following updates to the <strong>infinispan</strong> subsystem configuration to better match the JBoss EAP 7.0 default configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds the <code>ejb</code> cache, which is present in the JBoss EAP 7.0 default configuration.</p>
</li>
<li>
<p>Adds the <code>server</code> cache, which is present in the JBoss EAP 7.0 default configuration.</p>
</li>
<li>
<p>Fixes the module name in the <code>hibernate</code> cache configuration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>infinispan</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>infinispan</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>infinispan</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.add-infinispan-ejb-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the <code>ejb</code> cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.add-infinispan-server-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the <code>server</code> cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.fix-hibernate-cache-module-name.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not fix the module name in the <code>hibernate</code> cache configuration.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of a <strong>infinispan</strong> subsystem configuration, you should see messages in the console such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#44] Server cache added to Infinispan subsystem configuration.
INFO  [ServerMigrationTask#45] Ejb cache added to Infinispan subsystem configuration.
INFO  [ServerMigrationTask#46] Infinispan subsystem's cache hibernate 'module' attribute updated to org.hibernate.infinispan.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_ee_subsystem">3.3.8. Update the ee Subsystem</h4>
<div class="paragraph">
<p>The <strong>ee</strong> Subsystem in JBoss EAP 7.0 provides support for new Java EE 7 features.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure instances of Java EE 7 concurrency utilities, such as container-managed <code>Executors</code>.</p>
</li>
<li>
<p>You can define the Java EE 7 default resources, such as the default data source, by specifying the original JNDI addresses.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool updates the <strong>ee</strong> subsystem configuration to include the new features.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>ee</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>ee</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-ee-concurrency-utilities.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the default instances of concurrency utilities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set up Java EE 7 default resources.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultDataSourceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the name of the default data source to look for in the source configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultDataSourceJndiName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the JNDI name for the default data source.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultJmsConnectionFactoryName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the name of the JMS connection factory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultJmsConnectionFactoryJndiName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the JNDI name for the default JMS connection factory.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
JNDI names that are specified are assumed to be valid. JNDI names are not validated by the tool.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For concurrency utilities instances, the tool automatically configures the exact same instances that are present in all JBoss EAP 7.0 default configurations and does not require any user interaction.
The log simply indicates the instances were added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Default ContextService added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedThreadFactory added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedExecutorService added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedScheduledExecutorService added to EE subsystem configuration.</code></pre>
</div>
</div>
<div class="paragraph">
<p>When defining Java EE 7 default resources, by default the tool looks for the resources present in default JBoss EAP 6.4 configurations and select these if present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#50] Java EE Default Datasource configured with JNDI name java:jboss/datasources/ExampleDS.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the case where the tool does not find such resources, then user input is required.
The tool lists all available resources in the configuration, and then asks the user to select the one that should be set as the default, or to manually provide the JNDI address of the original resource.
The following is an example of the interaction that occurs when migrating a configuration file with two configured data sources, <code>ExampleDS1</code> and <code>ExampleDS2</code> and defining the default data source:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#22] Default datasource not found.
0. ExampleDS
1. Unconfigured data source, I want to enter the JNDI name...
Please select Java EE's Default Datasource: (0): 0
INFO  [ServerMigrationTask#22] Java EE Default Datasource configured with JNDI name java:jboss/datasources/ExampleDS.

Save this Java EE Default Datasource JNDI name and use it when migrating other config files?
yes/no? y</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you run the migration tool in <code>non-interactive</code> mode and the expected JBoss EAP 6.4 default resources are not available, for example the default JMS connection factory, the tool will not configure those resources.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_ejb3_subsystem">3.3.9. Update the ejb3 Subsystem</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool makes the following updates to the <strong>ejb3</strong> subsystem configuration to better match the JBoss EAP 7.0 default configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The remote service configuration is updated to reference the new HTTP connector.</p>
</li>
<li>
<p>The <code>default-sfsb-passivation-disabled-cache</code> attribute is configured to use the <code>efault-sfsb-cache</code>.</p>
</li>
<li>
<p>Legacy passivation store and cache configurations are replaced with the JBoss EAP 7.0 defaults.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool updates any <strong>ejb3</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>ejb3</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>ejb3</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.activate-ejb3-remoting-http-connector.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not update the <code>EJB Remoting</code> configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.add-infinispan-passivation-store-and-distributable-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not replace the <code>passivation store</code> and <code>cache</code> configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.setup-default-sfsb-passivation-disabled-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not update the <code>default-sfsb-passivation-disabled-cache</code> configuration.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of the <strong>ejb3</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#52] EJB3 subsystem's remote service configured to use HTTP Remoting connector.
INFO  [ServerMigrationTask#53] EJB3 subsystem's 'default-sfsb-passivation-disabled-cache' attribute set to simple.
INFO  [ServerMigrationTask#54] Legacy file passivation store removed from EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Infinispan passivation store added to EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Legacy 'passivating' cache removed from EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Distributable cache added to EJB3 subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_remoting_subsystem">3.3.10. Update the remoting Subsystem</h4>
<div class="paragraph">
<p>One of the most relevant features introduced by JBoss EAP 7.0 is the new HTTP connector, a connector that is able to replace all legacy remoting protocols and ports, using a single port.
The HTTP Connector is configured in the <strong>remoting</strong> subsystem and the tool simply updates the subsystem configuration to activate it.</p>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates the <strong>remoting</strong> subsystem.
If you prefer, you can set the <code>subsystem.remoting.update.skip</code> environment property to <code>true</code> to skip automatic update of the <strong>remoting</strong> subsystem configuration.</p>
</div>
<div class="paragraph">
<p>Upon successful migration of the <strong>remoting</strong> subsystem configuration, you should see the following message in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#33] Http connector http-remoting-connector added to Remoting subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_undertow_subsystem">3.3.11. Update the undertow Subsystem</h4>
<div class="paragraph">
<p>In addition to migrating the <strong>web</strong> subsystem to JBoss EAP 7.0, the JBoss Server Migration Tool adds the following functionality provided by the new <strong>undertow</strong> subsystem, which is configured in the JBoss EAP 7.0 default server configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sets the default <code>HTTP Listener</code> redirect socket.</p>
</li>
<li>
<p>Adds support for Java EE 7 <code>Websockets</code>.</p>
</li>
<li>
<p>Sets the default <code>Server</code> response header.</p>
</li>
<li>
<p>Sets the default <code>X-Powered-By</code> response header.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>undertow</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>undertow</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>undertow</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.set-default-http-listener-redirect-socket.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>HTTP Listener</code> redirect socket.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-undertow-websockets.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add support for WebSockets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-response-header.server-header.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>Server</code> response header.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-response-header.x-powered-by-header.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>X-Powered-By</code> response header.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of a <strong>undertow</strong> subsystem configuration, you should see messages in the console such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#33] Undertow's default HTTP listener 'http' redirect-socket set as 'https'.
INFO  [ServerMigrationTask#34] Undertow's default Servlet Container configured to support Websockets.
INFO  [ServerMigrationTask#35] Response header 'server-header' set as 'Server: JBoss-EAP/7' in Undertow's config /subsystem=undertow
INFO  [ServerMigrationTask#36] Response header 'x-powered-by-header' set as 'X-Powered-By: Undertow/1' in Undertow's config /subsystem=undertow</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_messaging_activemq_subsystem">3.3.12. Update the messaging-activemq Subsystem</h4>
<div class="paragraph">
<p>In addition to migrating the <strong>messaging</strong> subsystem to JBoss EAP 7.0, the JBoss Server Migration Tool also adds the following new functionality provided by the <strong>messaging-activemq</strong> subsystems, which is configured in the JBoss EAP 7.0 default standalone configuration files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds the default HTTP connector and acceptor, enabling the new HTTP-based remote messaging clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>messaging-activemq</strong> subsystem configuration.
If you prefer, you can set the <code>subsystem.messaging-activemq.update.skip</code> environment property to <code>true</code> to skip automatic update of <strong>messaging-activemq</strong> subsystem configurations.</p>
</div>
<div class="paragraph">
<p>Upon successful migration of a <strong>messaging-activemq</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#123] HTTP Acceptor named http-acceptor added to Messaging ActiveMQ subsystem configuration.
INFO  [ServerMigrationTask#123] HTTP Connector named http-connector added to Messaging ActiveMQ subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_batch_jberet_subsystem">3.3.13. Add the batch-jberet Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>batch-jberet</strong> subsystem provides support for <a href="https://jcp.org/en/jsr/detail?id=352">JSR 352: Batch Applications for the Java Platform</a>.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.batch-jberet.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>batch-jberet</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem batch-jberet configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.batch.jberet added.
INFO  [ServerMigrationTask#51] Subsystem config /subsystem=batch-jberet added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_request_controller_subsystem">3.3.14. Add the request-controller Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>request-controller</strong> subsystem provides congestion control and graceful shutdown functionality.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.request-controller.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>request-controller</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem request-controller configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.request-controller added.
INFO  [ServerMigrationTask#51] Subsystem config /subsystem=request-controller added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_security_manager_subsystem">3.3.15. Add the security-manager Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>security-manager</strong> subsystem provides the support for Java EE 7 security permissions.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.security-manager.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>security-manager</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem security-manager configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.security.manager added.
INFO  [ServerMigrationTask#51] Subsystem config /subsystem=security-manager added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_singleton_subsystem">3.3.16. Add the singleton Subsystem</h4>
<div class="paragraph">
<p>As its name indicates, the JBoss EAP 7.0 <strong>singleton</strong> subsystem provides the singleton functionality.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.singleton.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>singleton</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem singleton configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.clustering.singleton added.
INFO  [ServerMigrationTask#51] Subsystem config /subsystem=singleton added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setup_http_upgrade_management">3.3.17. Setup HTTP Upgrade Management</h4>
<div class="paragraph">
<p>JBoss EAP 7.0 management clients use the new HTTP Upgrade mechanism, and the JBoss Migration Tool makes all of configuration changes needed for clients to work properly with the migrated configuration.</p>
</div>
<div class="paragraph">
<p>The configuration changes are fully automated, and upon successful completion of the configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[ServerMigrationTask#75] HTTP upgrade management setup starting...
[ServerMigrationTask#76] Management interface 'http-interface' http upgrade enabled.
[ServerMigrationTask#77] Socket binding 'management-https' port set to ${jboss.management.https.port:9993}.
[ServerMigrationTask#75] HTTP upgrade management setup completed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to skip the configuration of HTTP Upgrade management, set the environment property named <code>management.setup-http-upgrade.skip</code> to <code>true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_set_up_private_interface">3.3.18. Set Up Private Interface</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 default configuration uses a new <code>private</code> interface on all <code>jgroups</code> socket bindings.
The JBoss Server Migration Tool automatically adds the new interface to migrated configurations with <code>jgroups</code> socket bindings, and updates these to use it.</p>
</div>
<div class="paragraph">
<p>Upon successful configuration of the private interface, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#160] Interface private added.
INFO  [ServerMigrationTask#161] Socket binding /socket-binding-group=standard-sockets/socket-binding=jgroups-mping interface set to private
INFO  [ServerMigrationTask#161] Socket binding /socket-binding-group=standard-sockets/socket-binding=jgroups-tcp interface set to private
INFO  [ServerMigrationTask#161] Socket binding /socket-binding-group=standard-sockets/socket-binding=jgroups-tcp-fd interface set to private
INFO  [ServerMigrationTask#161] Socket binding /socket-binding-group=standard-sockets/socket-binding=jgroups-udp interface set to private
INFO  [ServerMigrationTask#161] Socket binding /socket-binding-group=standard-sockets/socket-binding=jgroups-udp-fd interface set to private</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to skip the configuration of the private interface, set the environment property named <code>interface.private.setup.skip</code> to <code>true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_add_socket_binding_port_expressions">3.3.19. Add Socket Binding Port Expressions</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 default configurations use value expressions for the <code>port</code> attribute of the following socket bindings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ajp</code></p>
</li>
<li>
<p><code>http</code></p>
</li>
<li>
<p><code>https</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tool automatically adds the value expressions to the migrated JBoss EAP 6.4 configurations.</p>
</div>
<div class="paragraph">
<p>The following message(s) in the console indicates this configuration update:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#465] Adding socket binding's port expressions...
INFO  [ServerMigrationTask#466] Socket binding /socket-binding-group=standard-sockets/socket-binding=ajp port value expression set as ${jboss.ajp.port:8009}.
INFO  [ServerMigrationTask#467] Socket binding /socket-binding-group=standard-sockets/socket-binding=http port value expression set as ${jboss.http.port:8080}.
INFO  [ServerMigrationTask#468] Socket binding /socket-binding-group=standard-sockets/socket-binding=https port value expression set as ${jboss.https.port:8443}.
INFO  [ServerMigrationTask#465] Socket binding's port expressions added.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Migration Environment may be configured to skip this conifguration update, by setting environment property named <code>socket-bindings.add-port-expressions.skip</code> as <code>true</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_compatible_security_realms">3.3.20. Migrate Compatible Security Realms</h4>
<div class="paragraph">
<p>Because the JBoss EAP 7.0 security realms configuration is fully compatible with the JBoss EAP 6.4 security realms configuration, they require no update by the JBoss Server Migration Tool.
However, if the properties files are not referenced using an absolute path, the tool copies them to the path expected by the migrated configuration file.</p>
</div>
<div class="paragraph">
<p>This process is fully automated and requires no interaction by the user.
To skip the security realms migration, set the <code>security-realms.migrate-properties.skip</code> environment property to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Upon successful migration of the security realms configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#140]  Migrating security realms...
INFO  [ServerMigrationTask#141]  Resource with path /jboss-eap-6.4/standalone/configuration/mgmt-users.properties migrated.
INFO  [ServerMigrationTask#141]  Resource with path /jboss-eap-6.4/standalone/configuration/mgmt-groups.properties migrated.
INFO  [ServerMigrationTask#141]  Security realm /core-service=management/security-realm=ManagementRealm migrated.
INFO  [ServerMigrationTask#142]  Resource with path /jboss-eap-6.4/standalone/configuration/application-users.properties migrated.
INFO  [ServerMigrationTask#142]  Resource with path /jboss-eap-6.4/standalone/configuration/application-roles.properties migrated.
INFO  [ServerMigrationTask#142]  Security realm /core-service=management/security-realm=ApplicationRealm migrated.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_deployments">3.3.21. Migrate Deployments</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool, when migrating a configuration, may also migrate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployments it references, also known as persistent deployments.</p>
</li>
<li>
<p>Deployments found in directories monitored by its deployment scanners.</p>
</li>
<li>
<p>Deployment Overlays it references.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The migration of a deployment or deployment overlay merely consists of <strong>installing</strong> related file resources on the target server, and possibly updating the migrated configuration.
The tool will <strong>not</strong> assert if these resources are compatible with the target server, which means that a migrated deployment might <strong>not</strong> work as expected, or might not work at all.
Red Hat recommends that you use <strong>Red Hat Application Migration Toolkit</strong> to analyze a deployment with respect to compatibility among different JBoss servers.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you run the migration tool in <code>non-interactive</code> mode, by default the JBoss Server Migration Tool will not migrate any deployments and overlays. To migrate deployments the environment property <code>deployments.migrate-deployments.skip</code> should be set as <code>false</code>.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_migrate_persistent_deployments">Migrate Persistent Deployments</h5>
<div class="paragraph">
<p>When migrating a configuration, the tool searches for references to deployments persisted in the source server, and prints the names of the deployments found in the console, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#67] Persistent deployments found: [cmtool-helloworld3.war, cmtool-helloworld4.war, cmtool-helloworld2.war, cmtool-helloworld1.war]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, you then see the following prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>This tool is not able to assert if persistent deployments found are compatible with the target server, skip persistent deployments migration?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, the all deployment references are removed from the migrated configuration, i.e. the deployments will not be migration.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive an additional prompt asking if all deployments should be the migrated:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all persistent deployments found?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, all deployments are migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive a prompt asking to confirm the migration for each referenced deployment:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate persistent deployment 'cmtool-helloworld3.war'?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, the deployment is migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, the deployment reference is removed from the migrated configuration, i.e. the deployment is not migrated.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#68] Removed persistent deployment from configuration /deployment=cmtool-helloworld3.war</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>non-interactive</code> mode, the JBoss Server Migration Tool will migrate or not migrate <code>all</code> persistent deployments, depending on the environment configuration.
Persistent deployments are migrated only if <strong>none</strong> of the following environment properties is set as <code>true</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>deployments.migrate-deployments.skip</p>
</li>
<li>
<p>deployments.migrate-persistent-deployments.skip</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_migrate_deployment_scanner_deployments">Migrate Deployment Scanner Deployments</h5>
<div class="paragraph">
<p>Deployment scanners monitor a directory for new files and manage their deployment automatically or through special deployment marker files,
and the migration tool, when migrating the server configuration, first searches for any configured deployment scanners, and then for each scanner found, searches its monitored directories for deployments marked as <code>deployed</code>.</p>
</div>
<div class="paragraph">
<p>A list with the names of deployments found are printed to the console, for instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#68] Found deployment scanner 'default' watching directory '/jboss-eap-6.4/standalone/deployments', searching for deployments in it...
INFO  [ServerMigrationTask#68] Scanner's deployments found: [cmtool-helloworld5.war, cmtool-helloworld6.war]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, you then see the following prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>This tool is not able to assert if the scanner's deployments found are compatible with the target server, skip scanner's deployments migration?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, all deployments are <strong>not</strong> migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive an additional prompt asking if all deployments should be the migrated:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all scanner's deployments found?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, all deployments are migrated.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#69] Resource with path /jboss-eap-6.4/standalone/deployments/cmtool-helloworld5.war migrated.
INFO  [ServerMigrationTask#70] Resource with path /jboss-eap-6.4/standalone/deployments/cmtool-helloworld6.war migrated.</code></pre>
</div>
</div>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive a prompt asking to confirm the migration for each deployment:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate scanner's deployment 'cmtool-helloworld5.war'?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, the deployment is not migrated.</p>
</li>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, the deployment is migrated.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#69] Resource with path /{server-source-baseDir}/standalone/deployments/cmtool-helloworld5.war migrated.</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>non-interactive</code> mode, the JBoss Server Migration Tool will migrate or not migrate <code>all</code> deployments found, depending on the environment configuration.
Persistent deployments are migrated only if <strong>none</strong> of the following environment properties is set as <code>true</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>deployments.migrate-deployments.skip</p>
</li>
<li>
<p>deployments.migrate-deployment-scanner-deployments.skip</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_migrate_deployment_overlays">Migrate Deployment Overlays</h5>
<div class="paragraph">
<p>The migration of deployment overlays is a fully automated process.
The migration tool searches for deployment overlays referenced in the standalone server configuration.
It then migrates those that are linked to deployments that were migrated.</p>
</div>
<div class="paragraph">
<p>The migration tool prints a message to the console for each deployment overlay that is migrated or removed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#79] Deployment overlays found: [overlay4, overlay1, overlay2, overlay3]
INFO  [ServerMigrationTask#79] Migrating deployment overlay 'overlay4', it's linked to deployment cmtool-helloworld2.war
INFO  [ServerMigrationTask#80] Removed deployment overlay from configuration /deployment-overlay=overlay1
INFO  [ServerMigrationTask#81] Removed deployment overlay from configuration /deployment-overlay=overlay2
INFO  [ServerMigrationTask#79] Migrating deployment overlay 'overlay3', it's linked to deployment cmtool-helloworld2.war</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_managed_domain_migration">4. Managed Domain Migration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_managed_domain_processing_overview">4.1. Managed Domain Processing Overview</h3>
<div class="paragraph">
<p>When tasked to migrate managed domains, the JBoss Server Migration Tool migrates the domain and host configuration files and their related domain content from the source server to the target server. This migration task is optional.</p>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, which is the default, you are prompted to confirm its execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate the source's managed domain?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply with <strong>yes</strong> or <strong>y</strong>, the domain migration proceeds.</p>
</li>
<li>
<p>If you reply with <strong>no</strong> or <strong>n</strong>, the domain migration is skipped.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you choose to proceed, the tool begins migrating the domain content of the source server. A cyphered repository used to store data, such as deployments and deployment overlays, that are referenced by the source server&#8217;s domain and host configurations. Because the source and target servers use a similar content repository, the migration of this data merely consists of finding and copying the content between the servers. The migration tool prints the results in the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#397]  Migrating domain content found: [22/caa450a9ba3b84eaf5a15b6da418b92ce6c98e/content, 23/b62a37ba8a4830622bfcdb960280577cc6796e/content, 40/8bcb8a4480739d370ebf70fbcabb33c1508c50/content, 88/96c992d1b9866945a5015b72f8d254d3d5c132/content, ea/69fbffdf08b320c09ad1acc7d31deba5a7787b/content, fc/8ec517e0b169fb27b61ff90f04de5dd8ca8d52/content]
INFO  [ServerMigrationTask#398]  Resource with path /jboss-eap-6.4/domain/data/content/22/caa450a9ba3b84eaf5a15b6da418b92ce6c98e/content migrated.
INFO  [ServerMigrationTask#399]  Resource with path /jboss-eap-6.4/domain/data/content/23/b62a37ba8a4830622bfcdb960280577cc6796e/content migrated.
INFO  [ServerMigrationTask#400]  Resource with path /jboss-eap-6.4/domain/data/content/40/8bcb8a4480739d370ebf70fbcabb33c1508c50/content migrated.
INFO  [ServerMigrationTask#401]  Resource with path /jboss-eap-6.4/domain/data/content/88/96c992d1b9866945a5015b72f8d254d3d5c132/content migrated.
INFO  [ServerMigrationTask#402]  Resource with path /jboss-eap-6.4/domain/data/content/ea/69fbffdf08b320c09ad1acc7d31deba5a7787b/content migrated.
INFO  [ServerMigrationTask#403]  Resource with path /jboss-eap-6.4/domain/data/content/fc/8ec517e0b169fb27b61ff90f04de5dd8ca8d52/content migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, the migration tool scans the source server for domain configuration files and prints the results in the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#312]  Retrieving source's domain configurations...
INFO  [ServerMigrationTask#312]  /jboss-eap-6.4/domain/configuration/domain.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool <code>non-interactive</code> mode, the JBoss Server Migration Tool migrates all listed domain configuration files.</p>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, which is the default, you are presented with the following prompt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all configurations?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply with <strong>yes</strong>, all listed configuration files are migrated.</p>
</li>
<li>
<p>If you reply with <strong>no</strong>, you are prompted to confirm the migration for each listed configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate configuration /jboss-eap-6.4/domain/configuration/domain.xml ?
yes/no? y</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, the migration tool scans the source server for host configurations files and prints the results in the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#457] Retrieving source's host configurations...
INFO  [ServerMigrationTask#457] /jboss-eap-6.4/domain/configuration/host-master.xml
INFO  [ServerMigrationTask#457] /jboss-eap-6.4/domain/configuration/host-slave.xml
INFO  [ServerMigrationTask#457] /jboss-eap-6.4/domain/configuration/host.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>non-interactive</code> mode, the JBoss Server Migration Tool migrates all listed host configuration files.</p>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, which is the default, you are presented with the following prompt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all configurations?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply with <strong>yes</strong>, all listed configuration files are migrated.</p>
</li>
<li>
<p>If you reply with <strong>no</strong>, you are prompted to confirm the migration for each listed configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate configuration /jboss-eap-6.4/domain/configuration/host.xml ?
yes/no? y</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_the_migration_of_the_managed_domain_configuration">4.2. Customizing the Migration of the Managed Domain Configuration</h3>
<div class="paragraph">
<p>Managed domain migration can be customized by configuring the following environment properties:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domain.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the entire domain migration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.domain.domainDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the source domain server directory, which defaults to the source domain server&#8217;s base directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.domain.configDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the source domain server <code>configuration/</code> directory, which defaults to the source server&#8217;s domain <code>configuration/</code> directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.domain.domainConfigFiles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a comma delimited list of the file names of the source server domain configurations that are to be migrated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.source.domain.hostConfigFiles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a comma delimited list of the file names of the source server host configurations that are to be migrated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.target.domain.domainDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the target domain server directory, which defaults to the target domain server’s base directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.target.domain.configDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines an alternative path for the target domain server <code>configuration/</code> directory, which defaults to the target server&#8217;s domain <code>configuration/</code> directory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The environment configuration may be done in one of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure the tool&#8217;s <code>config/environment.properties</code> properties file:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>domain.skip=false
server.source.domain.domainDir=domain
server.source.domain.configDir=configuration
server.source.domain.domainConfigFiles=domain.xml
server.source.domain.hostConfigFiles=host-master.xml, host.xml
server.target.domain.domainDir=domain
server.target.domain.configDir=configuration</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure the properties in your own custom properties file and pass the file on the command line using the <code>--environment</code> argument.</p>
</li>
<li>
<p>You can pass the information on the command line using system properties. In this case, all environment property names should be prefixed with <code>jboss.server.migration.</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_domain_configuration_file_migration">4.3. Domain Configuration File Migration</h3>
<div class="paragraph">
<p>When migrating the domain configuration, the JBoss Server Migration Tool first copies the source configuration files to the target server.
It then updates the configuration to not only work correctly in the target server, but also to take advantage of the target server’s new functionality.</p>
</div>
<!-- toc disabled -->
<div class="sect3">
<h4 id="_remove_unsupported_subsystems_2">4.3.1. Remove Unsupported Subsystems</h4>
<div class="paragraph">
<p>All subsystems, and related extensions, which are not supported by JBoss EAP 7.0, are automatically removed from a migrated configuration.</p>
</div>
<div class="paragraph">
<p>The following JBoss EAP 6.4 subsystems are not supported by JBoss EAP 7.0:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Subsystem Name</th>
<th class="tableblock halign-left valign-top">Configuration Namespace</th>
<th class="tableblock halign-left valign-top">Extension Module</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cmp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:cmp:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.cmp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configadmin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:configadmin:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.configadmin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jaxr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:jaxr:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.jaxr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">osgi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:osgi:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.osgi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:jboss:domain:threads:*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as.threads</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A subsystem installed in JBoss EAP 6.4 by the user, is also considered as unsupported by JBoss EAP 7.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The console logs the configuration namespaces, and extension modules, of unsupported subsystems removed from the server configuration being migrated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#5] Unsupported extensions removed: [org.jboss.as.jaxr, org.jboss.as.threads, org.jboss.as.cmp]
INFO  [ServerMigrationTask#5] Unsupported subsystems removed: [urn:jboss:domain:jaxr:1.1, urn:jboss:domain:cmp:1.1, urn:jboss:domain:threads:1.1]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_referenced_modules_2">4.3.2. Migrate Referenced Modules</h4>
<div class="paragraph">
<p>A migrated configuration may reference and depend on a module that is not installed on the target server.
The tool automatically migrates the referenced modules, and their dependent modules as well.</p>
</div>
<div class="paragraph">
<p>A module is migrated when it is referenced by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>security-realm</code> configuration, as plug-in(s) module</p>
</li>
<li>
<p>A <code>datasource</code> subsystem configuration, as datasource driver(s) module</p>
</li>
<li>
<p>An <code>ee</code> subsystem configuration, as a global module</p>
</li>
<li>
<p>A <code>naming</code> subsystem configuration, as an Object Factory module</p>
</li>
<li>
<p>A <code>messaging</code> subsystem configuration, as JMS Bridge module</p>
</li>
<li>
<p>A <code>vault</code> configuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting the module ID for any module that is migrated, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#18] Module cmtool.security-realms:main migrated.
INFO  [ServerMigrationTask#19] Module cmtool.datasources:main migrated.
INFO  [ServerMigrationTask#20] Module cmtool.ee1:main migrated.
INFO  [ServerMigrationTask#21] Module cmtool.ee2:main migrated.
INFO  [ServerMigrationTask#22] Module cmtool.naming:main migrated.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
It is possible to <strong>exclude</strong> the migration of specific modules by specifying the id(s) in the environment property named <code>modules.excludes</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_referenced_paths_2">4.3.3. Migrate Referenced Paths</h4>
<div class="paragraph">
<p>A migrated configuration may reference paths, i.e. files and directories, which may need to be migrated to the target server.</p>
</div>
<div class="paragraph">
<p>A referenced path is migrated only if it&#8217;s not an absolute path, and such migration consists in copying the resource to such path, but relative to the migrated configuration, in the target server.</p>
</div>
<div class="paragraph">
<p>The tools automatically migrates the following paths references:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Vault</code> keystore and encrypted file&#8217;s directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting each path migration, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#25] Resource with path /jboss-eap-6.4/vault/vault.keystore migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer, you can configure the environment properties to customize the migration of referenced paths.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paths.migrate-paths-requested-by-configuration.vault.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the migration of <code>Vault</code> referenced paths.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_migrate_jacorb_subsystem_2">4.3.4. Migrate jacorb Subsystem</h4>
<div class="paragraph">
<p>The <strong>jacorb</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>iiop-openjdk</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.jacorb.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>jacorb</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem jacorb configurations...
INFO  [ServerMigrationTask#335] Subsystem config /profile=default/subsystem=jacorb migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.jacorb removed.
INFO  [ServerMigrationTask#331] Subsystem jacorb configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_web_subsystem_2">4.3.5. Migrate web Subsystem</h4>
<div class="paragraph">
<p>The <strong>web</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>undertow</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.web.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>web</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem web configurations...
INFO  [ServerMigrationTask#335] Subsystem config /profile=default/subsystem=web migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.web removed.
INFO  [ServerMigrationTask#331] Subsystem web configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_messaging_subsystem_2">4.3.6. Migrate messaging Subsystem</h4>
<div class="paragraph">
<p>The <strong>messaging</strong> subsystem is deprecated in JBoss EAP 7.0 and is replaced by the <strong>messaging-activemq</strong> subsystem.</p>
</div>
<div class="paragraph">
<p>By default, the JBoss Server Migration Tool automatically migrates any legacy subsystem configuration found.
If you prefer this migration task is not executed, you can set the <code>subsystem.messaging.migrate.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The legacy subsystem migration is done without requiring any interaction from the user.</p>
</div>
<div class="paragraph">
<p>The outcome of the legacy <strong>messaging</strong> subsystem migration is printed in the console, as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#331] Migrating subsystem messaging configurations...
INFO  [ServerMigrationTask#335] Subsystem config /profile=default/subsystem=messaging migrated.
INFO  [ServerMigrationTask#336] Extension org.jboss.as.messaging removed.
INFO  [ServerMigrationTask#331] Subsystem messaging configurations migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any issues encountered during the migration are written to the log files and displayed in the migration console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_infinispan_subsystem_2">4.3.7. Update the infinispan Subsystem</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool makes the following updates to the <strong>infinispan</strong> subsystem configuration to better match the JBoss EAP 7.0 default configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds the <code>ejb</code> cache, which is present in the JBoss EAP 7.0 default configuration.</p>
</li>
<li>
<p>Adds the <code>server</code> cache, which is present in the JBoss EAP 7.0 default configuration.</p>
</li>
<li>
<p>Fixes the module name in the <code>hibernate</code> cache configuration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>infinispan</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>infinispan</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>infinispan</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.add-infinispan-ejb-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the <code>ejb</code> cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.add-infinispan-server-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the <code>server</code> cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.infinispan.update.fix-hibernate-cache-module-name.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not fix the module name in the <code>hibernate</code> cache configuration.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of a <strong>infinispan</strong> subsystem configuration, you should see messages in the console such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#44] Server cache added to Infinispan subsystem configuration.
INFO  [ServerMigrationTask#45] Ejb cache added to Infinispan subsystem configuration.
INFO  [ServerMigrationTask#46] Infinispan subsystem's cache hibernate 'module' attribute updated to org.hibernate.infinispan.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_ee_subsystem_2">4.3.8. Update the ee Subsystem</h4>
<div class="paragraph">
<p>The <strong>ee</strong> Subsystem in JBoss EAP 7.0 provides support for new Java EE 7 features.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can configure instances of Java EE 7 concurrency utilities, such as container-managed <code>Executors</code>.</p>
</li>
<li>
<p>You can define the Java EE 7 default resources, such as the default data source, by specifying the original JNDI addresses.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool updates the <strong>ee</strong> subsystem configuration to include the new features.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>ee</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>ee</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-ee-concurrency-utilities.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add the default instances of concurrency utilities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set up Java EE 7 default resources.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultDataSourceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the name of the default data source to look for in the source configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultDataSourceJndiName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the JNDI name for the default data source.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultJmsConnectionFactoryName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the name of the JMS connection factory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ee.update.setup-javaee7-default-bindings.defaultJmsConnectionFactoryJndiName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the JNDI name for the default JMS connection factory.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
JNDI names that are specified are assumed to be valid. JNDI names are not validated by the tool.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For concurrency utilities instances, the tool automatically configures the exact same instances that are present in all JBoss EAP 7.0 default configurations and does not require any user interaction.
The log simply indicates the instances were added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Default ContextService added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedThreadFactory added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedExecutorService added to EE subsystem configuration.
INFO  [ServerMigrationTask#49] Default ManagedScheduledExecutorService added to EE subsystem configuration.</code></pre>
</div>
</div>
<div class="paragraph">
<p>When defining Java EE 7 default resources, by default the tool looks for the resources present in default JBoss EAP 6.4 configurations and select these if present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#50] Java EE Default Datasource configured with JNDI name java:jboss/datasources/ExampleDS.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the case where the tool does not find such resources, then user input is required.
The tool lists all available resources in the configuration, and then asks the user to select the one that should be set as the default, or to manually provide the JNDI address of the original resource.
The following is an example of the interaction that occurs when migrating a configuration file with two configured data sources, <code>ExampleDS1</code> and <code>ExampleDS2</code> and defining the default data source:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#22] Default datasource not found.
0. ExampleDS
1. Unconfigured data source, I want to enter the JNDI name...
Please select Java EE's Default Datasource: (0): 0
INFO  [ServerMigrationTask#22] Java EE Default Datasource configured with JNDI name java:jboss/datasources/ExampleDS.

Save this Java EE Default Datasource JNDI name and use it when migrating other config files?
yes/no? y</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you run the migration tool in <code>non-interactive</code> mode and the expected JBoss EAP 6.4 default resources are not available, for example the default JMS connection factory, the tool will not configure those resources.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_ejb3_subsystem_2">4.3.9. Update the ejb3 Subsystem</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool makes the following updates to the <strong>ejb3</strong> subsystem configuration to better match the JBoss EAP 7.0 default configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The remote service configuration is updated to reference the new HTTP connector.</p>
</li>
<li>
<p>The <code>default-sfsb-passivation-disabled-cache</code> attribute is configured to use the <code>efault-sfsb-cache</code>.</p>
</li>
<li>
<p>Legacy passivation store and cache configurations are replaced with the JBoss EAP 7.0 defaults.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool updates any <strong>ejb3</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>ejb3</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>ejb3</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.activate-ejb3-remoting-http-connector.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not update the <code>EJB Remoting</code> configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.add-infinispan-passivation-store-and-distributable-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not replace the <code>passivation store</code> and <code>cache</code> configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.ejb3.update.setup-default-sfsb-passivation-disabled-cache.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not update the <code>default-sfsb-passivation-disabled-cache</code> configuration.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of the <strong>ejb3</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#52] EJB3 subsystem's remote service configured to use HTTP Remoting connector.
INFO  [ServerMigrationTask#53] EJB3 subsystem's 'default-sfsb-passivation-disabled-cache' attribute set to simple.
INFO  [ServerMigrationTask#54] Legacy file passivation store removed from EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Infinispan passivation store added to EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Legacy 'passivating' cache removed from EJB3 subsystem configuration.
INFO  [ServerMigrationTask#54] Distributable cache added to EJB3 subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_remoting_subsystem_2">4.3.10. Update the remoting Subsystem</h4>
<div class="paragraph">
<p>One of the most relevant features introduced by JBoss EAP 7.0 is the new HTTP connector, a connector that is able to replace all legacy remoting protocols and ports, using a single port.
The HTTP Connector is configured in the <strong>remoting</strong> subsystem and the tool simply updates the subsystem configuration to activate it.</p>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates the <strong>remoting</strong> subsystem.
If you prefer, you can set the <code>subsystem.remoting.update.skip</code> environment property to <code>true</code> to skip automatic update of the <strong>remoting</strong> subsystem configuration.</p>
</div>
<div class="paragraph">
<p>Upon successful migration of the <strong>remoting</strong> subsystem configuration, you should see the following message in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#33] Http connector http-remoting-connector added to Remoting subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_undertow_subsystem_2">4.3.11. Update the undertow Subsystem</h4>
<div class="paragraph">
<p>In addition to migrating the <strong>web</strong> subsystem to JBoss EAP 7.0, the JBoss Server Migration Tool adds the following functionality provided by the new <strong>undertow</strong> subsystem, which is configured in the JBoss EAP 7.0 default server configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sets the default <code>HTTP Listener</code> redirect socket.</p>
</li>
<li>
<p>Adds support for Java EE 7 <code>Websockets</code>.</p>
</li>
<li>
<p>Sets the default <code>Server</code> response header.</p>
</li>
<li>
<p>Sets the default <code>X-Powered-By</code> response header.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>undertow</strong> subsystem configuration to include these changes.
If you prefer, you can configure the environment properties to customize the process of updating the <strong>undertow</strong> subsystem configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the update of the <strong>undertow</strong> subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.set-default-http-listener-redirect-socket.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>HTTP Listener</code> redirect socket.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-undertow-websockets.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not add support for WebSockets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-response-header.server-header.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>Server</code> response header.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subsystem.undertow.update.add-response-header.x-powered-by-header.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool does not set the default <code>X-Powered-By</code> response header.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Upon successful migration of a <strong>undertow</strong> subsystem configuration, you should see messages in the console such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#33] Undertow's default HTTP listener 'http' redirect-socket set as 'https'.
INFO  [ServerMigrationTask#34] Undertow's default Servlet Container configured to support Websockets.
INFO  [ServerMigrationTask#35] Response header 'server-header' set as 'Server: JBoss-EAP/7' in Undertow's config /subsystem=undertow
INFO  [ServerMigrationTask#36] Response header 'x-powered-by-header' set as 'X-Powered-By: Undertow/1' in Undertow's config /subsystem=undertow</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_messaging_activemq_subsystem_2">4.3.12. Update the messaging-activemq Subsystem</h4>
<div class="paragraph">
<p>In addition to migrating the <strong>messaging</strong> subsystem to JBoss EAP 7.0, the JBoss Server Migration Tool also adds the following new functionality provided by the <strong>messaging-activemq</strong> subsystems, which is configured in the JBoss EAP 7.0 default standalone configuration files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds the default HTTP connector and acceptor, enabling the new HTTP-based remote messaging clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates any <strong>messaging-activemq</strong> subsystem configuration.
If you prefer, you can set the <code>subsystem.messaging-activemq.update.skip</code> environment property to <code>true</code> to skip automatic update of <strong>messaging-activemq</strong> subsystem configurations.</p>
</div>
<div class="paragraph">
<p>Upon successful migration of a <strong>messaging-activemq</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#123] HTTP Acceptor named http-acceptor added to Messaging ActiveMQ subsystem configuration.
INFO  [ServerMigrationTask#123] HTTP Connector named http-connector added to Messaging ActiveMQ subsystem configuration.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_batch_jberet_subsystem_2">4.3.13. Add the batch-jberet Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>batch-jberet</strong> subsystem provides support for <a href="https://jcp.org/en/jsr/detail?id=352">JSR 352: Batch Applications for the Java Platform</a>.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.batch-jberet.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>batch-jberet</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem batch-jberet configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.batch.jberet added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=default/subsystem=batch-jberet added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=full/subsystem=batch-jberet added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_request_controller_subsystem_2">4.3.14. Add the request-controller Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>request-controller</strong> subsystem provides congestion control and graceful shutdown functionality.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.request-controller.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>request-controller</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem request-controller configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.request-controller added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=default/subsystem=request-controller added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=full/subsystem=request-controller added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_security_manager_subsystem_2">4.3.15. Add the security-manager Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>security-manager</strong> subsystem provides the support for Java EE 7 security permissions.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.security-manager.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>security-manager</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem security-manager configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.security.manager added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=default/subsystem=security-manager added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=full/subsystem=security-manager added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_singleton_subsystem_2">4.3.16. Add the singleton Subsystem</h4>
<div class="paragraph">
<p>As its name indicates, the JBoss EAP 7.0 <strong>singleton</strong> subsystem provides the singleton functionality.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.singleton.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>singleton</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem singleton configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.wildfly.extension.clustering.singleton added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=default/subsystem=singleton added.
INFO  [ServerMigrationTask#51] Subsystem config /profile=full/subsystem=singleton added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_domain_configuration_s_unsecure_interface">4.3.17. Update the Domain Configuration&#8217;s Unsecure Interface</h4>
<div class="paragraph">
<p>The tool updates the <code>unsecure</code> interface configuration to match JBoss EAP 7.0 default configurations.</p>
</div>
<div class="paragraph">
<p>By default, the tool automatically updates the <code>unsecure</code> interface configuration.
If you prefer, you can set the <code>interface.unsecure.update.skip</code> environment property to <code>true</code> to skip the automatic update of the <code>unsecure</code> interface.</p>
</div>
<div class="paragraph">
<p>Upon successful update of the <code>unsecure</code> interface configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO [ServerMigrationTask#432] Interface unsecure inet address value set as ${jboss.bind.address.unsecure:127.0.0.1}.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_set_up_private_interface_2">4.3.18. Set Up Private Interface</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 default configuration uses a new <code>private</code> interface on all <code>jgroups</code> socket bindings.
The JBoss Server Migration Tool automatically adds the new interface to migrated configurations with <code>jgroups</code> socket bindings, and updates these to use it.</p>
</div>
<div class="paragraph">
<p>Upon successful configuration of the private interface, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#637] Interface private added.
INFO  [ServerMigrationTask#640] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=jgroups-mping interface set to private
INFO  [ServerMigrationTask#640] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=jgroups-tcp interface set to private
INFO  [ServerMigrationTask#640] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=jgroups-tcp-fd interface set to private
INFO  [ServerMigrationTask#640] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=jgroups-udp interface set to private
INFO  [ServerMigrationTask#640] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=jgroups-udp-fd interface set to private
INFO  [ServerMigrationTask#641] Socket binding /socket-binding-group=ha-sockets/socket-binding=jgroups-mping interface set to private
INFO  [ServerMigrationTask#641] Socket binding /socket-binding-group=ha-sockets/socket-binding=jgroups-tcp interface set to private
INFO  [ServerMigrationTask#641] Socket binding /socket-binding-group=ha-sockets/socket-binding=jgroups-tcp-fd interface set to private
INFO  [ServerMigrationTask#641] Socket binding /socket-binding-group=ha-sockets/socket-binding=jgroups-udp interface set to private
INFO  [ServerMigrationTask#641] Socket binding /socket-binding-group=ha-sockets/socket-binding=jgroups-udp-fd interface set to private</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to skip the configuration of the private interface, set the environment property named <code>interface.private.setup.skip</code> to <code>true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_add_socket_binding_port_expressions_2">4.3.19. Add Socket Binding Port Expressions</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 default configurations use value expressions for the <code>port</code> attribute of the following socket bindings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ajp</code></p>
</li>
<li>
<p><code>http</code></p>
</li>
<li>
<p><code>https</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tool automatically adds the value expressions to the migrated JBoss EAP 6.4 configurations.</p>
</div>
<div class="paragraph">
<p>The following message(s) in the console indicates this configuration update:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#642] Adding socket binding's port expressions...
INFO  [ServerMigrationTask#643] Socket binding /socket-binding-group=full-sockets/socket-binding=ajp port value expression set as ${jboss.ajp.port:8009}.
INFO  [ServerMigrationTask#644] Socket binding /socket-binding-group=ha-sockets/socket-binding=ajp port value expression set as ${jboss.ajp.port:8009}.
INFO  [ServerMigrationTask#645] Socket binding /socket-binding-group=standard-sockets/socket-binding=ajp port value expression set as ${jboss.ajp.port:8009}.
INFO  [ServerMigrationTask#646] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=ajp port value expression set as ${jboss.ajp.port:8009}.
INFO  [ServerMigrationTask#647] Socket binding /socket-binding-group=ha-sockets/socket-binding=http port value expression set as ${jboss.http.port:8080}.
INFO  [ServerMigrationTask#648] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=http port value expression set as ${jboss.http.port:8080}.
INFO  [ServerMigrationTask#649] Socket binding /socket-binding-group=full-sockets/socket-binding=http port value expression set as ${jboss.http.port:8080}.
INFO  [ServerMigrationTask#650] Socket binding /socket-binding-group=standard-sockets/socket-binding=http port value expression set as ${jboss.http.port:8080}.
INFO  [ServerMigrationTask#651] Socket binding /socket-binding-group=ha-sockets/socket-binding=https port value expression set as ${jboss.https.port:8443}.
INFO  [ServerMigrationTask#652] Socket binding /socket-binding-group=full-ha-sockets/socket-binding=https port value expression set as ${jboss.https.port:8443}.
INFO  [ServerMigrationTask#653] Socket binding /socket-binding-group=full-sockets/socket-binding=https port value expression set as ${jboss.https.port:8443}.
INFO  [ServerMigrationTask#654] Socket binding /socket-binding-group=standard-sockets/socket-binding=https port value expression set as ${jboss.https.port:8443}.
INFO  [ServerMigrationTask#642] Socket binding's port expressions added.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Migration Environment may be configured to skip this conifguration update, by setting environment property named <code>socket-bindings.add-port-expressions.skip</code> as <code>true</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_remove_permgen_attributes_from_jvm_configurations">4.3.20. Remove Permgen Attributes From JVM Configurations</h4>
<div class="paragraph">
<p>The usage of <code>Permgen</code> attributes in JVM configurations is deprecated in JBoss EAP 7.0 and the JBoss Migration Tool removes these from all JVM configurations.</p>
</div>
<div class="paragraph">
<p>Upon successful removal of the <code>Permgen</code> attributes, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#677] Permgen attributes removed from JVM /server-group=main-server-group/jvm=default
INFO  [ServerMigrationTask#678] Permgen attributes removed from JVM /server-group=other-server-group/jvm=default</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer, you can set the <code>jvms.remove-permgen-attributes.skip</code> environment property value to <code>true</code> to skip the automatic removal.</p>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_deployments_2">4.3.21. Migrate Deployments</h4>
<div class="paragraph">
<p>The JBoss Server Migration Tool, when migrating a configuration, may also migrate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployments it references, also known as persistent deployments.</p>
</li>
<li>
<p>Deployment Overlays it references.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The migration of a deployment or deployment overlay merely consists of <strong>installing</strong> related file resources on the target server, and possibly updating the migrated configuration.
The tool will <strong>not</strong> assert if these resources are compatible with the target server, which means that a migrated deployment might <strong>not</strong> work as expected, or might not work at all.
Red Hat recommends that you use <strong>Red Hat Application Migration Toolkit</strong> to analyze a deployment with respect to compatibility among different JBoss servers.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you run the migration tool in <code>non-interactive</code> mode, by default the JBoss Server Migration Tool will not migrate any deployments and overlays. To migrate deployments the environment property <code>deployments.migrate-deployments.skip</code> should be set as <code>false</code>.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_migrate_persistent_deployments_2">Migrate Persistent Deployments</h5>
<div class="paragraph">
<p>When migrating a configuration, the tool searches for references to deployments persisted in the source server, and prints the names of the deployments found in the console, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#67] Persistent deployments found: [cmtool-helloworld3.war, cmtool-helloworld4.war, cmtool-helloworld2.war, cmtool-helloworld1.war]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>interactive</code> mode, you then see the following prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>This tool is not able to assert if persistent deployments found are compatible with the target server, skip persistent deployments migration?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, the all deployment references are removed from the migrated configuration, i.e. the deployments will not be migration.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive an additional prompt asking if all deployments should be the migrated:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate all persistent deployments found?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, all deployments are migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, you receive a prompt asking to confirm the migration for each referenced deployment:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Migrate persistent deployment 'cmtool-helloworld3.war'?
yes/no?</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you reply <strong>yes</strong>, or <strong>y</strong>, the deployment is migrated.</p>
</li>
<li>
<p>If you reply <strong>no</strong>, or <strong>n</strong>, the deployment reference is removed from the migrated configuration, i.e. the deployment is not migrated.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#68] Removed persistent deployment from configuration /deployment=cmtool-helloworld3.war</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you run the migration tool in <code>non-interactive</code> mode, the JBoss Server Migration Tool will migrate or not migrate <code>all</code> persistent deployments, depending on the environment configuration.
Persistent deployments are migrated only if <strong>none</strong> of the following environment properties is set as <code>true</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>deployments.migrate-deployments.skip</p>
</li>
<li>
<p>deployments.migrate-persistent-deployments.skip</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_migrate_deployment_overlays_2">Migrate Deployment Overlays</h5>
<div class="paragraph">
<p>The migration of deployment overlays is a fully automated process.
The migration tool searches for deployment overlays referenced in the standalone server configuration.
It then migrates those that are linked to deployments that were migrated.</p>
</div>
<div class="paragraph">
<p>The migration tool prints a message to the console for each deployment overlay that is migrated or removed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#79] Deployment overlays found: [overlay4, overlay1, overlay2, overlay3]
INFO  [ServerMigrationTask#79] Migrating deployment overlay 'overlay4', it's linked to deployment cmtool-helloworld2.war
INFO  [ServerMigrationTask#80] Removed deployment overlay from configuration /deployment-overlay=overlay1
INFO  [ServerMigrationTask#81] Removed deployment overlay from configuration /deployment-overlay=overlay2
INFO  [ServerMigrationTask#79] Migrating deployment overlay 'overlay3', it's linked to deployment cmtool-helloworld2.war</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_host_configuration_file_migration">4.4. Host Configuration File Migration</h3>
<div class="paragraph">
<p>When migrating the host configuration, the JBoss Server Migration Tool first copies the source configuration files to the target server.
It then updates the configuration to not only work correctly in the target server, but also to take advantage of the target server’s new functionality.</p>
</div>
<!-- toc disabled -->
<div class="sect3">
<h4 id="_migrate_referenced_modules_3">4.4.1. Migrate Referenced Modules</h4>
<div class="paragraph">
<p>A migrated configuration may reference and depend on a module that is not installed on the target server.
The tool automatically migrates the referenced modules, and their dependent modules as well.</p>
</div>
<div class="paragraph">
<p>A module is migrated when it is referenced by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>security-realm</code> configuration, as plug-in(s) module</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting the module ID for any module that is migrated, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#18] Module cmtool.security-realms:main migrated.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
It is possible to <strong>exclude</strong> the migration of specific modules by specifying the id(s) in the environment property named <code>modules.excludes</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_migrate_referenced_paths_3">4.4.2. Migrate Referenced Paths</h4>
<div class="paragraph">
<p>A migrated configuration may reference paths, i.e. files and directories, which may need to be migrated to the target server.</p>
</div>
<div class="paragraph">
<p>A referenced path is migrated only if it&#8217;s not an absolute path, and such migration consists in copying the resource to such path, but relative to the migrated configuration, in the target server.</p>
</div>
<div class="paragraph">
<p>The tools automatically migrates the following paths references:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Vault</code> keystore and encrypted file&#8217;s directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The console logs a message noting each path migration, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#25] Resource with path /jboss-eap-6.4/vault/vault.keystore migrated.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer, you can configure the environment properties to customize the migration of referenced paths.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Property Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paths.migrate-paths-requested-by-configuration.vault.skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the tool skips the migration of <code>Vault</code> referenced paths.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_add_the_jmx_subsystem">4.4.3. Add the jmx Subsystem</h4>
<div class="paragraph">
<p>The JBoss EAP 7.0 <strong>jmx</strong> subsystem provides the ability to manage and monitor systems.</p>
</div>
<div class="paragraph">
<p>Its default configuration is automatically added to the migrated configuration file, unless the environment property named <code>subsystem.jmx.add.skip</code> is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The subsystem and related extension are added without any interaction required by the user.
Upon successful addition of the <strong>jmx</strong> subsystem configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#49] Adding subsystem jmx configuration(s)...
INFO  [ServerMigrationTask#50] Extension org.jboss.as.jmx added.
INFO  [ServerMigrationTask#51] Subsystem config /host=master/subsystem=jmx added.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_remove_the_unsecure_interface">4.4.4. Remove the Unsecure Interface</h4>
<div class="paragraph">
<p>The tool removes the <code>unsecure</code> interface configuration from migrated configurations, to match the JBoss EAP 7.0 default configurations.
However, you can configure the tool to skip the removal of the <code>unsecure</code> interface by setting the <code>interface.unsecure.remove.skip</code> environment property value to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Upon successful removal of the <code>unsecure</code> interface configuration, you should see the following message in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO [ServerMigrationTask#480] Interface unsecure removed.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setup_http_upgrade_management_2">4.4.5. Setup HTTP Upgrade Management</h4>
<div class="paragraph">
<p>JBoss EAP 7.0 management clients use the new HTTP Upgrade mechanism, and the JBoss Migration Tool makes all of configuration changes needed for clients to work properly with the migrated configuration.</p>
</div>
<div class="paragraph">
<p>The configuration changes are fully automated, and upon successful completion of the configuration, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#896] HTTP upgrade management setup starting...
INFO  [ServerMigrationTask#897] Management interface 'http-interface' http upgrade enabled.
INFO  [ServerMigrationTask#896] HTTP upgrade management setup completed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to skip the configuration of HTTP Upgrade management, set the environment property named <code>management.setup-http-upgrade.skip</code> to <code>true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_remove_permgen_attributes_from_jvm_configurations_2">4.4.6. Remove Permgen Attributes From JVM Configurations</h4>
<div class="paragraph">
<p>The usage of <code>Permgen</code> attributes in JVM configurations is deprecated in JBoss EAP 7.0 and the JBoss Migration Tool removes these from all JVM configurations.</p>
</div>
<div class="paragraph">
<p>Upon successful removal of the <code>Permgen</code> attributes, you should see the following messages in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>INFO  [ServerMigrationTask#900] Permgen attributes removed from JVM /host=master/jvm=default</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.1.0.Alpha-SNAPSHOT<br>
Last updated 2018-03-12 07:45:42 WET
</div>
</div>
</body>
</html>